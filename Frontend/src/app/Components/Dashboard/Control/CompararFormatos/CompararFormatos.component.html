<div class="p-6">
  <div class="grid justify-content-center  gap-2">
    <div class="col-12">
        <p-card header="CONTROL DE FORMATOS">
            <!-- <p class="m-0">En esta secci√≥n usted seleccionara las opciones disponibles aqui</p> -->
        </p-card>
    </div>
  <!-- <p-toast /> -->
<p-fileupload name="myfile[]"  [multiple]="false" accept=".xlsx, .xls" maxFileSize="1000000" (onSelect)="onFileChange($event)" class="col-12">
    <ng-template #header let-files let-chooseCallback="chooseCallback" let-clearCallback="clearCallback" let-uploadCallback="uploadCallback">
        <div class="flex flex-wrap justify-between items-center flex-1 gap-4">
            <div class="flex gap-2">
                <p-button (onClick)="choose($event, chooseCallback)" icon="pi pi-images" [rounded]="true" [outlined]="true" />
                <p-button (onClick)="clearCallback()" icon="pi pi-times" [rounded]="true" [outlined]="true" severity="danger" [disabled]="!files || files.length === 0" />
            </div>
            <!-- <p-progressbar [value]="totalSizePercent" [showValue]="false" class="w-full" styleClass="md:w-20rem h-1 w-full md:ml-auto">
                <span class="whitespace-nowrap">{{ totalSize }}B / 1Mb</span>
            </p-progressbar> -->
        </div>
    </ng-template>
    <ng-template #content let-files let-uploadedFiles="uploadedFiles" let-removeFileCallback="removeFileCallback" let-removeUploadedFileCallback="removeUploadedFileCallback">
      
    </ng-template>
    <ng-template #file>
      <span>Resultado de pendientes: {{totalResultado}}</span>
      <div class="grid gap-4">
        <div class="col-7">
          @for ( itm of uniqueAreas; track itm) {
            <p-button [label]="itm.area.toUpperCase()" variant="text" [raised]="true" severity="warn" styleClass="w-full flex py-3 my-4 justify-content-between" [badge]="itm.count.toString()" badgeSeverity="danger" (onClick)="mostarDetallesPenientes(itm.area)"/>
          }
        </div>
      
        <div class="col-4 border-1 flex flex-column  justify-content-center align-items-center">
          @if(mostrarResultados){
            <div class="resultado-list">
              <div class="flex flex-column justify-content-center align-items-center" style="width: 100%;">
                @for(i of listaDetallesArea; track i.formats_models) {
                  <p>Nro: {{ i.formats_models }} - Area: {{ i.area }} </p>
                }

              </div>
            </div>
            <!-- <cdk-virtual-scroll-viewport itemSize="100" class="resultado-list">
              @for (i of listaDetallesArea; track i.formats_models) {
                <div>
                  <span>Nro: {{ i.formats_models }} - Area: {{ i.area }}</span>
                </div>
              }
            </cdk-virtual-scroll-viewport> -->
          }
          @else{
           <span>Sin resultados</span>

          }
        </div>
      </div>
      <!--CONTENIDO DE RESULTADO
      @for (item of listaDetalles; track $index) {
        <div class="grid gap-2">
          <span>Nro Formato {{item.modelo_completo}}</span>
          <span>Area: {{item.area}}</span>
        </div>
      } -->
    </ng-template>
    <ng-template #empty>
        <div class="flex items-center align-items-center justify-content-center justify-center flex-column">
            <i class="pi pi-cloud-upload !border-2 !rounded-full !p-8 !text-4xl !text-muted-color text-7xl"></i>
            <p class="mt-6 mb-0">No se encuentra resultados. Debe importar registro de comparacion </p>
        </div>
    </ng-template>
</p-fileupload>

    </div>
</div>